{"version":3,"sources":["App.js","index.js"],"names":["App","useState","currencyList","setCurrencyList","shortCurrencyList","setShortList","currencyNames","setCurrencyNames","secondInput","setSecondInput","firstInput","setFirstInput","baseConvertValue","setBaseConvertValue","convertValue","setConvertValue","favorites","setFavorites","days","setDays","choppedDays","setChoppedDays","isHidden","setHidden","useEffect","fetch","then","response","json","data","Object","entries","rates","symbols","getName","currencyToFind","name","find","currency","handleInput","target","value","getValue","toFixed","handleSecondInput","handleSecondSelect","currencyToFindValue","handleClick","some","split","handleRemove","filter","handleInfo","day","map","entry","date","rate","sort","a","b","Date","alert","handleDays","innerHTML","splice","length","handleClose","className","hidden","href","title","onChange","key","path","exact","render","type","onClick","width","height","dataKey","domain","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8b86da8.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { LineChart, Line, XAxis, YAxis } from 'recharts';\nimport './App.css';\n\n\nfunction App() {\n  const [currencyList, setCurrencyList] = useState([]);\n  const [shortCurrencyList, setShortList] = useState([]);\n  const [currencyNames, setCurrencyNames] = useState([]);\n  const [secondInput, setSecondInput] = useState(0);\n  const [firstInput, setFirstInput] = useState(0);\n  const [baseConvertValue, setBaseConvertValue] = useState('EUR');\n  const [convertValue, setConvertValue] = useState('EUR');\n  const [favorites, setFavorites] = useState([]);\n  const [days, setDays] = useState([]);\n  const [choppedDays, setChoppedDays] = useState([]);\n  const [isHidden, setHidden] = useState(true);\n\n  useEffect(() => {\n    fetch('http://data.fixer.io/api/latest?access_key=48ae94633d08720a55c5b80edc727945')\n      .then(response => { return response.json() })\n      .then(data => setCurrencyList(Object.entries(data.rates)));\n    fetch('http://data.fixer.io/api/symbols?access_key=48ae94633d08720a55c5b80edc727945')\n      .then(response => { return response.json() })\n      .then(data => setCurrencyNames(Object.entries(data.symbols)));\n    fetch('https://api.exchangeratesapi.io/latest')\n      .then(response => { return response.json() })\n      .then(data => setShortList(Object.entries(data.rates)));\n  }, []);\n\n  const getName = (currencyToFind) => {\n    const name = currencyNames.find(currency => currency[0] === currencyToFind);\n    return name ? name[1] : '';\n  };\n\n  const handleInput = ({target}) => {\n    setFirstInput(target.value);\n    setSecondInput(+(target.value/getValue(baseConvertValue)*getValue(convertValue)).toFixed(2));\n  };\n\n  const handleSecondInput = ({target}) => {\n    setSecondInput(target.value);\n    setFirstInput(+(target.value/getValue(convertValue)*getValue(baseConvertValue)).toFixed(2));\n  };\n\n  const handleSelect = ({target}) => {\n    setBaseConvertValue(target.value);\n    setSecondInput(+(firstInput/getValue(target.value)*getValue(convertValue)).toFixed(2));\n  };\n\n  const handleSecondSelect = ({target}) => {\n    setConvertValue(target.value);\n    setSecondInput(+(firstInput/getValue(baseConvertValue)*getValue(target.value)).toFixed(2));\n\n  };\n\n  const getValue = (currencyToFindValue) => {\n    return currencyList.find(currency => currency[0] === currencyToFindValue)[1];\n  };\n\n  const handleClick = ({target}) => {\n    if (!favorites.some(currency => currency[0] === target.value.split(',')[0])) {\n      setFavorites([\n        ...favorites,\n        target.value.split(','),\n      ]);\n    };\n  };\n\n  const handleRemove = ({target}) => {\n    setFavorites(\n      [...favorites].filter(currency => currency[0] !== target.value)\n    )\n  };\n\n  const handleInfo = ({target}) => {\n    if(shortCurrencyList.find(day => day[0] === target.value)) {\n      fetch(`https://api.exchangeratesapi.io/history?start_at=2015-10-10&end_at=2020-10-10&symbols=${target.value}`)\n        .then(response => { return response.json() })\n        .then(data => {\n          setDays(\n            Object.entries(data.rates)\n              .map(entry => ({date: entry[0], rate: entry[1][target.value]}))\n              .sort((a, b) => new Date(a.date) - new Date(b.date))\n          );\n          setChoppedDays(\n            Object.entries(data.rates)\n              .map(entry => ({date: entry[0], rate: entry[1][target.value]}))\n              .sort((a, b) => new Date(a.date) - new Date(b.date))\n            );\n        });\n      setHidden(false);\n    } else {alert('sorry, no additional info on this currency')};\n  };\n\n  const handleDays = ({target}) => {\n    if(target.innerHTML === 'Last 30 days') {\n      setChoppedDays([...days].splice(days.length-25))\n    }\n    if(target.innerHTML === 'Last 12 months') {\n      setChoppedDays([...days].splice(days.length-300))\n    }\n    if(target.innerHTML === 'Last 5 years') {\n      setChoppedDays(days)\n    }\n  };\n\n  const handleClose = () => {\n    setHidden(true);\n  };\n\n  return (\n    <HashRouter>\n      <div className=\"App\">\n        <div\n          className=\"blurry\"\n          hidden={isHidden}\n        ></div>\n        <a href=\"#/\">Home</a>\n        {' '}\n        <a href=\"#/currencies\">Currencies</a>\n        <br />\n        <div>Choose your base currency</div>\n        <select className=\"select\" value={baseConvertValue} title={getName(baseConvertValue)} onChange={handleSelect}>\n          {currencyList.map(currency => (\n            <option key={currency[0]} title={getName(currency[0])}>{currency[0]}</option>\n          ))}\n        </select>\n        <Switch>\n          <Route path=\"/\" exact render={() =>\n            <>\n              <h1>Currency Converter</h1>\n              <input className=\"input\" type=\"number\" value={firstInput} onChange={handleInput}/>\n              {baseConvertValue}\n              <br/>\n              <input className=\"input\" type=\"number\" value={secondInput} onChange={handleSecondInput}/>\n              <select className=\"select\" value={convertValue} title={getName(convertValue)} onChange={handleSecondSelect}>\n                {currencyList.map(currency => (\n                  <option key={currency[0]} title={getName(currency[0])}>{currency[0]}</option>\n                ))}\n              </select>\n            </>\n          }/>\n          <Route path=\"/currencies\" render={() =>\n            <div>\n              {favorites.length ? <h3>Favorite Currencies</h3> : null}\n              {favorites.map(currency => (\n                <div className=\"currencyRow\" key={currency[0]}>\n                  <button value={currency[0]} onClick={handleInfo}>Info</button>\n                  <span>{getName(currency[0])}</span>\n                  <span>{(currency[1]/getValue(baseConvertValue)).toFixed(5)}</span>\n                  <button value={currency[0]} onClick={handleRemove}>Remove from faves</button>\n                </div>\n              ))}\n              <h3>Currencies</h3>\n              {shortCurrencyList.map(currency => (\n                <div className=\"currencyRow\" key={currency[0]}>\n                  <button value={currency[0]} onClick={handleInfo}>Info</button>\n                  <span>{getName(currency[0])}</span>\n                  <span>{(currency[1]/getValue(baseConvertValue)).toFixed(5)}</span>\n                  <button value={currency} onClick={handleClick}>Add to faves</button>\n                </div>\n              ))}\n              <div hidden={isHidden} className=\"chart\">\n                <LineChart\n                  width={500}\n                  height={300}\n                  data={choppedDays}\n                >\n                  <XAxis dataKey=\"date\" />\n                  <YAxis domain={['dataMin', 'dataMax']}/>\n                  <Line dataKey=\"rate\"/>\n                </LineChart>\n                <button className=\"chartButton\" onClick={handleDays}>Last 30 days</button>\n                <button className=\"chartButton\" onClick={handleDays}>Last 12 months</button>\n                <button className=\"chartButton\" onClick={handleDays}>Last 5 years</button>\n                <button className=\"chartButton\" onClick={handleClose}>X</button>\n              </div>\n            </div>\n          }/>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}